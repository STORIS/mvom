"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[832],{3905:function(e,t,r){r.d(t,{Zo:function(){return s},kt:function(){return m}});var n=r(7294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var l=n.createContext({}),d=function(e){var t=n.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):a(a({},t),e)),r},s=function(e){var t=d(e.components);return n.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=d(r),m=i,f=p["".concat(l,".").concat(m)]||p[m]||u[m]||o;return r?n.createElement(f,a(a({ref:t},s),{},{components:r})):n.createElement(f,a({ref:t},s))}));function m(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:i,a[1]=c;for(var d=2;d<o;d++)a[d]=r[d];return n.createElement.apply(null,a)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},2904:function(e,t,r){r.r(t),r.d(t,{assets:function(){return s},contentTitle:function(){return l},default:function(){return m},frontMatter:function(){return c},metadata:function(){return d},toc:function(){return u}});var n=r(7462),i=r(3366),o=(r(7294),r(3905)),a=["components"],c={id:"model_detecting_mvom",title:"Detecting MVOM in Triggers"},l="Detecting MVOM in Triggers",d={unversionedId:"Model/Advanced Topics/model_detecting_mvom",id:"Model/Advanced Topics/model_detecting_mvom",title:"Detecting MVOM in Triggers",description:"Generally speaking, MVOM will never interact directly with your MultiValue BASIC code as it is designed to be standalone. However, MVOM is reading and writing records from the MultiValue database the same way any other MultiValue BASIC programs would. Therefore, if a database file has a trigger established for it then database write operations will continue to fire those triggers.",source:"@site/docs/04 - Model/07 - Advanced Topics/05 - Detecting MVOM in Triggers.md",sourceDirName:"04 - Model/07 - Advanced Topics",slug:"/Model/Advanced Topics/model_detecting_mvom",permalink:"/mvom/docs/Model/Advanced Topics/model_detecting_mvom",draft:!1,editUrl:"https://github.com/STORIS/mvom/tree/main/website/docs/04 - Model/07 - Advanced Topics/05 - Detecting MVOM in Triggers.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"model_detecting_mvom",title:"Detecting MVOM in Triggers"},sidebar:"docsSidebar",previous:{title:"Reading Encoded Data",permalink:"/mvom/docs/Model/Advanced Topics/model_reading_encoded"},next:{title:"User Defined Options",permalink:"/mvom/docs/Model/Advanced Topics/model_user_defined_options"}},s={},u=[],p={toc:u};function m(e){var t=e.components,r=(0,i.Z)(e,a);return(0,o.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"detecting-mvom-in-triggers"},"Detecting MVOM in Triggers"),(0,o.kt)("p",null,"Generally speaking, MVOM will never interact directly with your MultiValue BASIC code as it is designed to be standalone. However, MVOM is reading and writing records from the MultiValue database the same way any other MultiValue BASIC programs would. Therefore, if a database file has a trigger established for it then database write operations will continue to fire those triggers."),(0,o.kt)("p",null,"It may be desirable to detect in those triggers that MVOM was the source of the record write. Whenever MVOM runs its functionality on the database server, it creates a named common area ",(0,o.kt)("inlineCode",{parentName:"p"},"/S$MVOM/"),". Within that named common area will be a common variable ",(0,o.kt)("inlineCode",{parentName:"p"},"S$MVOM.PROCESS"),". The value of this variable will be set to ",(0,o.kt)("inlineCode",{parentName:"p"},"@TRUE")," at the start of the database server workflow."),(0,o.kt)("p",null,"If you wish to detect in a trigger subroutine that MVOM was the source of a record write, you merely need to declare your own ",(0,o.kt)("inlineCode",{parentName:"p"},"/S$MVOM/")," named common area with the first variable of the common variable being the variable associated with ",(0,o.kt)("inlineCode",{parentName:"p"},"S$MVOM.PROCESS"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"COM /S$MVOM/ S$MVOM.PROCESS\n")),(0,o.kt)("p",null,"If ",(0,o.kt)("inlineCode",{parentName:"p"},"S$MVOM.PROCESS")," is equal to ",(0,o.kt)("inlineCode",{parentName:"p"},"@TRUE")," then it should be safe to assume that the trigger was fired as a result of MVOM writing the record."),(0,o.kt)("p",null,"Related: ",(0,o.kt)("a",{parentName:"p",href:"model_user_defined_options"},"User Defined Options")))}m.isMDXComponent=!0}}]);