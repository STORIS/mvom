"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6458],{145:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var n=o(4848),r=o(8453);const s={id:"model_version",title:"The __v Property"},d="The __v Property",i={id:"Model/Advanced Topics/model_version",title:"The __v Property",description:'The v property of a Model instance is a special internal value which indicates the "version" of the data that the Model was instantiated from during database read operations. It is generated by calculating a hash of the record after it was read from disk. The v property exists on all Model instances and is accessible to consumers of the Model.',source:"@site/docs/04 - Model/07 - Advanced Topics/01 - The __v Property.md",sourceDirName:"04 - Model/07 - Advanced Topics",slug:"/Model/Advanced Topics/model_version",permalink:"/mvom/docs/Model/Advanced Topics/model_version",draft:!1,unlisted:!1,editUrl:"https://github.com/STORIS/mvom/tree/main/website/docs/04 - Model/07 - Advanced Topics/01 - The __v Property.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{id:"model_version",title:"The __v Property"},sidebar:"docsSidebar",previous:{title:"Sorting",permalink:"/mvom/docs/Model/Querying/model_query_sorting"},next:{title:"Projection",permalink:"/mvom/docs/Model/Advanced Topics/model_projection"}},a={},c=[{value:"How Its Used",id:"how-its-used",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"the-__v-property",children:"The __v Property"})}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"__v"})," property of a ",(0,n.jsx)(t.code,{children:"Model"}),' instance is a special internal value which indicates the "version" of the data that the ',(0,n.jsx)(t.code,{children:"Model"})," was instantiated from during database read operations. It is generated by calculating a hash of the record after it was read from disk. The ",(0,n.jsx)(t.code,{children:"__v"})," property exists on all ",(0,n.jsx)(t.code,{children:"Model"})," instances and is accessible to consumers of the ",(0,n.jsx)(t.code,{children:"Model"}),"."]}),"\n",(0,n.jsx)(t.h2,{id:"how-its-used",children:"How Its Used"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"__v"})," property is primarily used during save operations in order to ensure that the current state of the data has not changed since the ",(0,n.jsx)(t.code,{children:"Model"})," was instantiated. In order to ensure data integrity, MVOM will reject saves where the contents of a record has changed between the time a ",(0,n.jsx)(t.code,{children:"Model"})," instance was created and the time the record is written to disk. If MVOM detects that a record has changed it will abort the save attempt and throw a ",(0,n.jsx)(t.code,{children:"DocumentVersionMismatchError"}),"."]}),"\n",(0,n.jsxs)(t.p,{children:["Related: ",(0,n.jsx)(t.a,{href:"../model_saving",children:"Saving a Model"})]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453:(e,t,o)=>{o.d(t,{R:()=>d,x:()=>i});var n=o(6540);const r={},s=n.createContext(r);function d(e){const t=n.useContext(s);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),n.createElement(s.Provider,{value:t},e.children)}}}]);