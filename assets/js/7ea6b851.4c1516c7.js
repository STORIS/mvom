"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[440],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return m}});var r=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var p=r.createContext({}),s=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},u=function(e){var t=s(e.components);return r.createElement(p.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,o=e.originalType,p=e.parentName,u=a(e,["components","mdxType","originalType","parentName"]),d=s(n),m=i,h=d["".concat(p,".").concat(m)]||d[m]||c[m]||o;return n?r.createElement(h,l(l({ref:t},u),{},{components:n})):r.createElement(h,l({ref:t},u))}));function m(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=n.length,l=new Array(o);l[0]=d;var a={};for(var p in t)hasOwnProperty.call(t,p)&&(a[p]=t[p]);a.originalType=e,a.mdxType="string"==typeof e?e:i,l[1]=a;for(var s=2;s<o;s++)l[s]=n[s];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},7884:function(e,t,n){n.r(t),n.d(t,{assets:function(){return u},contentTitle:function(){return p},default:function(){return m},frontMatter:function(){return a},metadata:function(){return s},toc:function(){return c}});var r=n(7462),i=n(3366),o=(n(7294),n(3905)),l=["components"],a={id:"model_query_multiple_operators",title:"Combining Multiple Operators"},p="Combining Multiple Operators",s={unversionedId:"Model/Querying/model_query_multiple_operators",id:"Model/Querying/model_query_multiple_operators",title:"Combining Multiple Operators",description:"It is common to require specifying multiple query operators in order to filter results by multiple conditions. MVOM supports the ability to specify multiple operators in a variety of ways.",source:"@site/docs/04 - Model/06 - Querying/03 - Combining Multiple Operators.md",sourceDirName:"04 - Model/06 - Querying",slug:"/Model/Querying/model_query_multiple_operators",permalink:"/mvom/docs/Model/Querying/model_query_multiple_operators",draft:!1,editUrl:"https://github.com/STORIS/mvom/tree/main/website/docs/04 - Model/06 - Querying/03 - Combining Multiple Operators.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"model_query_multiple_operators",title:"Combining Multiple Operators"},sidebar:"docsSidebar",previous:{title:"Query Conditional Operators",permalink:"/mvom/docs/Model/Querying/model_query_operators"},next:{title:"Pagination",permalink:"/mvom/docs/Model/Querying/model_query_pagination"}},u={},c=[{value:"And conditions",id:"and-conditions",level:2},{value:"Single property",id:"single-property",level:3},{value:"Example",id:"example",level:4},{value:"Explicit And for Multiple Properties",id:"explicit-and-for-multiple-properties",level:3},{value:"Example",id:"example-1",level:4},{value:"Implicit And for Multiple Properties",id:"implicit-and-for-multiple-properties",level:3},{value:"Or conditions",id:"or-conditions",level:2},{value:"Example",id:"example-2",level:3},{value:"Combining And and Or Conditions",id:"combining-and-and-or-conditions",level:2},{value:"Example",id:"example-3",level:3}],d={toc:c};function m(e){var t=e.components,n=(0,i.Z)(e,l);return(0,o.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"combining-multiple-operators"},"Combining Multiple Operators"),(0,o.kt)("p",null,"It is common to require specifying multiple query operators in order to filter results by multiple conditions. MVOM supports the ability to specify multiple operators in a variety of ways."),(0,o.kt)("p",null,"All examples on this page are working with a ",(0,o.kt)("inlineCode",{parentName:"p"},"Model")," constructed in the following manner:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const schema = new Schema({\n  description: { type: 'string', path: 1, dictionary: 'DESCRIPTION' },\n  price: { type: 'number', path: 2, dbDecimals: 2, dictionary: 'PRICE' },\n});\n\nconst Item = connection.model(schema, 'ITEM');\n")),(0,o.kt)("h2",{id:"and-conditions"},"And conditions"),(0,o.kt)("p",null,"There are multiple ways to join conditions via an ",(0,o.kt)("inlineCode",{parentName:"p"},"and")," operator using MVOM."),(0,o.kt)("h3",{id:"single-property"},"Single property"),(0,o.kt)("p",null,"If you have a single property which you wish to have multiple criteria joined by an ",(0,o.kt)("inlineCode",{parentName:"p"},"and"),", you can add each of those criteria to the same object value assigned to the property."),(0,o.kt)("h4",{id:"example"},"Example"),(0,o.kt)("p",null,"The following query will return all records which have a price greater than or equal to 100 and less than 200."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const items = await Item.find({ price: { $gte: 100, $lt: 200 } });\n")),(0,o.kt)("p",null,"The query which will be executed on the MultiValue database is:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'select ITEM with (PRICE >= "100" and PRICE < "200")\n')),(0,o.kt)("h3",{id:"explicit-and-for-multiple-properties"},"Explicit And for Multiple Properties"),(0,o.kt)("p",null,"If you have multiple properties which you wish to have their conditions joined by an ",(0,o.kt)("inlineCode",{parentName:"p"},"and"),", you can use the ",(0,o.kt)("inlineCode",{parentName:"p"},"$and")," operator to join those conditions together. The ",(0,o.kt)("inlineCode",{parentName:"p"},"$and")," property accepts an array of query condition filter objects."),(0,o.kt)("h4",{id:"example-1"},"Example"),(0,o.kt)("p",null,'The following query will return all records which have a description of "Bed" and a price greater than or equal to 100.'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const items = await Item.find({ $and: [{ description: 'Bed' }, { price: { $gte: 100 } }] });\n")),(0,o.kt)("p",null,"The query which will be executed on the MultiValue database is:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'select ITEM with (DESCRIPTION = "Bed" and PRICE >= "100")\n')),(0,o.kt)("h3",{id:"implicit-and-for-multiple-properties"},"Implicit And for Multiple Properties"),(0,o.kt)("p",null,"It is not necessary to use the explicit ",(0,o.kt)("inlineCode",{parentName:"p"},"$and")," operator if you have multiple properties that you wish to have their conditions joined by an ",(0,o.kt)("inlineCode",{parentName:"p"},"and"),". The ",(0,o.kt)("inlineCode",{parentName:"p"},"$and")," operator is implicit when multiple properties are specified in the query condition filter object."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const items = await Item.find({ description: 'Bed', price: { $gte: 100 } });\n")),(0,o.kt)("p",null,"The query which will be executed on the MultiValue database is:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'select ITEM with (DESCRIPTION = "Bed" and PRICE >= "100")\n')),(0,o.kt)("h2",{id:"or-conditions"},"Or conditions"),(0,o.kt)("p",null,"In order to join conditions via an ",(0,o.kt)("inlineCode",{parentName:"p"},"or")," operator, you would use the ",(0,o.kt)("inlineCode",{parentName:"p"},"$or")," operator to join those conditions together. The ",(0,o.kt)("inlineCode",{parentName:"p"},"$or")," property accepts an array of query condition filter objects."),(0,o.kt)("h3",{id:"example-2"},"Example"),(0,o.kt)("p",null,"The following query will return all records which have a price less than 100 or greater than or equal to 1000."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const items = await Item.find({ $or: [{ price: { $lt: 100 } }, { price: { $gte: 1000 } }] });\n")),(0,o.kt)("p",null,"The query which will be executed on the MultiValue database is:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'select ITEM with (PRICE < 100 or PRICE >= "1000")\n')),(0,o.kt)("h2",{id:"combining-and-and-or-conditions"},"Combining And and Or Conditions"),(0,o.kt)("p",null,"It is possible to combine And and Or conditions into the same query. This is done by simply nesting these join operators within each other to produce more complex queries."),(0,o.kt)("h3",{id:"example-3"},"Example"),(0,o.kt)("p",null,'The following query will return all records which have a description of "Bed" and a price that is less than 100 or greater than or equal to 1000.'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"const items = await Item.find({\n  $and: [{ description: 'Bed' }, { $or: [{ price: { $lt: 100 } }, { price: { $gte: 1000 } }] }],\n});\n")),(0,o.kt)("p",null,"The query which will be executed on the MultiValue database is:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},'select ITEM with (DESCRIPTION = "Bed" and (PRICE < "100" or PRICE >= "1000"))\n')))}m.isMDXComponent=!0}}]);