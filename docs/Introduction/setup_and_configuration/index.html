<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Introduction/setup_and_configuration">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.20">
<title data-rh="true">Setup and Configuration | MVOM</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://storis.github.io/mvom/docs/Introduction/setup_and_configuration"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Setup and Configuration | MVOM"><meta data-rh="true" name="description" content="In order to communicate to the MultiValue database, the following are required:"><meta data-rh="true" property="og:description" content="In order to communicate to the MultiValue database, the following are required:"><link data-rh="true" rel="canonical" href="https://storis.github.io/mvom/docs/Introduction/setup_and_configuration"><link data-rh="true" rel="alternate" href="https://storis.github.io/mvom/docs/Introduction/setup_and_configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://storis.github.io/mvom/docs/Introduction/setup_and_configuration" hreflang="x-default"><link rel="stylesheet" href="/mvom/assets/css/styles.bec1b8f6.css">
<link rel="preload" href="/mvom/assets/js/runtime~main.078af2ed.js" as="script">
<link rel="preload" href="/mvom/assets/js/main.f58b1997.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mvom/"><b class="navbar__title text--truncate">MVOM</b></a><a class="navbar__item navbar__link navbar__link--active" href="/mvom/docs/Introduction/what_is_mvom">Documentation</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/mvom/docs/Introduction/what_is_mvom">2.0.0-alpha.6</a><a href="https://github.com/storis/mvom" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_dLyj"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_mKqt"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><div class="docPage_ualW"><aside class="theme-doc-sidebar-container docSidebarContainer_UQUJ"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/mvom/docs/Introduction/what_is_mvom">Introduction</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mvom/docs/Introduction/what_is_mvom">What is MVOM?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mvom/docs/Introduction/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mvom/docs/Introduction/setup_and_configuration">Setup and Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mvom/docs/connection">Connection</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mvom/docs/Schema/schema_basics">Schema</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/mvom/docs/Model/model_basics">Model</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mvom/docs/document">Document</a></li></ul></nav></div></aside><main class="docMainContainer_uL0j"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/mvom/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_kU5B"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Introduction</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Setup and Configuration</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_bZGK theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_l22C">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Setup and Configuration</h1><p>In order to communicate to the MultiValue database, the following are required:</p><ol><li><a href="https://www.rocketsoftware.com/products/rocket-multivalue-integration-server" target="_blank" rel="noopener noreferrer">Rocket MultiValue Integration Server</a> (MVIS)</li><li>Account created, configured, and operational in MVIS for use with the REST server functionality<ul><li>Configuring an account is outside the scope of this documentation. Please consult the Rocket documentation for guidance on configuring an account in MVIS.</li></ul></li><li>A REST Server <code>Subroutine Resource</code> definition for the MVOM MultiValue server BASIC subroutine configured in MVIS</li></ol><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>MVOM was created before the MultiValue Integration Server Admin had an API available which allowed for configuration. In a future release, we will look to automate the manual process defined below.</p></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="configuring-the-rest-server-subroutine-definition">Configuring the REST Server Subroutine Definition<a class="hash-link" href="#configuring-the-rest-server-subroutine-definition" title="Direct link to heading">​</a></h2><p>MVOM requires the existence of a single REST Server <code>Subroutine Resource</code> and for the corresponding BASIC subroutine to be deployed to the MultiValue database server. All of the configuration and deployment can be performed using the MVIS Admin software.</p><p>You must create a subroutine resource with the following properties:</p><figure><p><img loading="lazy" alt="MVIS Subroutine Definition" src="/mvom/assets/images/subroutine-definition-9cbb34289ca28f0cfb445a23404d6910.png" width="893" height="432" class="img_E7b_"></p><figcaption class="figcaption-docs">Figure 1: Subroutine Details</figcaption></figure><p>The subroutine has two parameters -- one for input to the subroutine and one for output from the subroutine. The following table shows the setup of those parameters:</p><table><thead><tr><th align="center">Position</th><th>Name</th><th>Parameter Type</th><th>Data Type</th></tr></thead><tbody><tr><td align="center">1</td><td><code>input</code></td><td><code>input</code></td><td><code>json</code></td></tr><tr><td align="center">2</td><td><code>output</code></td><td><code>output</code></td><td><code>json</code></td></tr></tbody></table><p>The subroutine name must be in the format of <code>mvom_entry@{{subroutine_version}}</code> with the <code>{{subroutine_version}}</code> being replaced by the version of the subroutine used by your version of MVOM. In Figure 1 above, the version is <code>0.2.0</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="how-to-find-the-subroutine-version">How to find the subroutine version<a class="hash-link" href="#how-to-find-the-subroutine-version" title="Direct link to heading">​</a></h3><p>The easiest way to find the correct subroutine version is to view the MVOM source on GitHub. Each version of MVOM is tagged on GitHub, so you can use the GitHub navigation to switch to your appropriate version. For example, the link to the latest version is located at <a href="https://github.com/STORIS/mvom/blob/main/src/manifest.json" target="_blank" rel="noopener noreferrer">https://github.com/STORIS/mvom/blob/main/src/manifest.json</a>.</p><p>In the repo&#x27;s <code>src</code> folder, there exists a file named <code>manifest.json</code>. This file contains a list of key/value pairing for the MVOM feature and its MultiValue BASIC version. Given this file structure:</p><div class="language-json codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-json codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;dependencies&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;deleteById&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.0.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;deploy&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^1.0.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;entry&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^0.2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;find&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^4.0.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;findById&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^4.0.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;findByIds&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^4.0.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;readFileContentsById&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^1.0.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;getServerInfo&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^1.2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;save&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^3.0.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;setup&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^1.1.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;teardown&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;^1.0.0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The version for the <code>entry</code> feature is <code>0.2.0</code>. This <code>0.2.0</code> should replace the <code>{{subroutine_version}}</code> in the above format.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="deploying-the-rest-server-subroutine-code">Deploying the REST Server Subroutine Code<a class="hash-link" href="#deploying-the-rest-server-subroutine-code" title="Direct link to heading">​</a></h2><p>The easiest way to deploy the MVOM BASIC source is to use MVIS Admin to deploy it. You can deploy BASIC source through the <code>Optional Code</code> tab of the REST Server Subroutine definition.</p><figure><p><img loading="lazy" alt="MVIS Subroutine Source" src="/mvom/assets/images/subroutine-source-7212ec56a02a6c47cf92305c490070d3.png" width="898" height="800" class="img_E7b_"></p><figcaption class="figcaption-docs">Figure 2: Subroutine Source</figcaption></figure><p>The following needs to be set:</p><ol><li><p><strong>Source Directory</strong></p><ul><li>This can really be anything you want, but we recommend naming the directory <code>mvom.bp</code> to ensure your MVOM source code is separate from any other code. Assuming that directory does not exist, you should check the &quot;Create source directory if it doesn&#x27;t exist&quot; option.</li></ul></li><li><p>Check the <strong>Allow to compile and catalog subroutine code</strong> box</p></li><li><p><strong>Compile Options</strong></p><ul><li>The BASIC source requires the case insensitive compilation flag (<code>-i</code>). MVOM recommends compiling with the cross-reference flag (<code>-d</code>) and the overwrite flag (<code>-o</code>) as well. The full recommendation is to set the compile options to <code>-i -d -o</code>.</li></ul></li><li><p><strong>Source Code</strong></p><ul><li>The MVOM distributable downloaded from <a href="https://www.npmjs.com/" target="_blank" rel="noopener noreferrer">npm</a> includes the BASIC source code. To ensure you get the proper version of the code, we suggest opening the file from <code>node_modules/mvom/unibasic/entry.mvb</code> and copying and pasting the contents of that file into the source code text area.</li></ul><p>For MVOM release <code>2.0.0-alpha.6</code>, the source code is:</p></li></ol><div class="codeBlockContainer_MPoW theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_B9tL"><pre tabindex="0" class="prism-code language-text codeBlock__0OG thin-scrollbar"><code class="codeBlockLines_gEuF"><span class="token-line" style="color:#393A34"><span class="token plain">$basictype &#x27;U&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subroutine mvom_entry(inputSerialized, outputSerialized)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* UDO Status codes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_SUCCESS to 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_ERROR to -1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_INVALIDHANDLE to -2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* UDO value types:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_FALSE to 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_TRUE to 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_NULL to 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_NUMBER to 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_STRING to 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_ARRAY to 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_OBJECT to 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* UDO Error codes:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_OUTOFMEMORY to 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDJSON to 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_NOTSTANDALONE to 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_NOTFOUND to 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDNAME to 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_NOTANOBJECT to 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_NOTANARRAY to 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDINDEX to 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_OUTOFBOUND to 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDOPTION to 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDOPTIONVALUE to 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_OPTIONNOTSET to 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDFORMAT to 13</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDVALUE to 14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDTYPE to 15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_REFERENCECYCLE to 16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_INVALIDXML to 17</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOERROR_DOMAPIFAILURE to 18</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* UDO flags:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOFORMAT_JSON to 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOFORMAT_XML to 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* UDO options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_UDO2XML_XMLSTYLE to 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_UDO2XML_NAMESPACE to 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_OUTPUTMODE to 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_XML2UDO_INFERNUMBER to 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_XML2UDO_INFERBOOLEAN to 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_XML2UDO_INFERNULL to 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_XML2UDO_EMPTY2NULL to 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_XML2UDO_TRIMWHITESPACE to 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_XML2UDO_CASEINSENSITIVE to 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_XML2UDO_KEEPROOT to 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_UDO2XML_ROOTNAME to 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_UDO2XML_NULL2EMPTY to 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDOOPTION_UDO2XML_NAMESPACEPREFIX to 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* UDO option values:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_XMLSTYLE_ATTR to &quot;ATTRIBUTE&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_XMLSTYLE_ELEM to &quot;ELEMENT&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_OUTPUT_COMPACT  to &quot;COMPACT&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_OUTPUT_FORMATTED  to &quot;FORMATTED&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_OPTION_ON to &quot;ON&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ UDO_OPTION_OFF to &quot;OFF&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* error constants:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_MALFORMED_INPUT to 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_UNSUPPORTED_ACTION to 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_DEPLOYMENT to 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_UDO to 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_FILE_OPEN to 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_FILE_CREATE to 6</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_RECORD_READ to 7</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_RECORD_WRITE to 8</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_RECORD_DELETE to 9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_RECORD_VERSION to 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_RECORD_LOCKED to 11</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_QUERY to 12</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_DIGEST_HASH to 13</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_FOREIGN_KEY to 14</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">equ ERROR_ENCODE_FILE to 15</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* eliminate all terminal output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hush on</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* ensure a clean slate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clearselect all</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clearsql</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* create output object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if udoCreate(UDO_OBJECT, output) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * in the event of an error in the creation of the output object, there is little we can do except fatally abort</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return; * returning to caller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* create input object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if udoRead(inputSerialized, UDOFORMAT_JSON, input) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* ensure compact serialized json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if udoSetOption(UDOOPTION_OUTPUTMODE, UDO_OUTPUT_COMPACT) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  call error_handler(ERROR_UDO, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* start main program processing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if udoGetProperty(input, &#x27;action&#x27;, action, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">begin case</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case action eq &#x27;featureList&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * return the name of all globally cataloged programs that appear to be mvom features</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoCreate(UDO_ARRAY, featureList) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_UDO, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoSetProperty(output, &#x27;features&#x27;, featureList) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_UDO, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    udtexecute &#x27;select CTLGTB with @ID like &quot;mvom...&quot;&#x27; returning errmsg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if @system.return.code lt 0 then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_QUERY, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    loop readnext catalogKey else exit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if udoArrayAppendItem(featureList, catalogKey) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        call error_handler(ERROR_UDO, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    repeat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case action eq &#x27;createDir&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * create a directory (if necessary)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;dirName&#x27;, dirName, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    open dirName to f.dirName on error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_FILE_OPEN, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      close f.dirName on error null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      udtexecute &#x27;create.file dir &#x27;:dirName returning errmsg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      if @system.return.code lt 0 then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        call error_handler(ERROR_FILE_CREATE, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case action eq &#x27;deploy&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * deploy source code</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;sourceDir&#x27;, sourceDir, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;source&#x27;, source, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;programName&#x27;, programName, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    open sourceDir to f.sourceDir on error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_FILE_OPEN, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_FILE_OPEN, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    write source on f.sourceDir, programName on error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      close f.sourceDir on error null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_RECORD_WRITE, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    close f.sourceDir on error null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * compiling with override and case-insensitive flags</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    udtexecute &#x27;basic &#x27;:sourceDir:&#x27; &#x27;:programName:&#x27; -d -o -i&#x27; returning errmsg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if @system.return.code then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_DEPLOYMENT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * cataloging with default catalog (global) with force override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    udtexecute &#x27;catalog &#x27;:sourceDir:&#x27; &#x27;:programName:&#x27; force&#x27; returning errmsg</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if @system.return.code then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_DEPLOYMENT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoSetProperty(output, &#x27;deployed&#x27;, programName) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_UDO, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case action eq &#x27;subroutine&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    * call specified subroutine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;subroutineId&#x27;, subroutineId, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;options&#x27;, options, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;setupId&#x27;, setupId, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;setupOptions&#x27;, setupOptions, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;teardownId&#x27;, teardownId, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if udoGetProperty(input, &#x27;teardownOptions&#x27;, teardownOptions, type) then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      call error_handler(ERROR_MALFORMED_INPUT, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    call @setupId(setupOptions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    call @subroutineId(options, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    call @teardownId(teardownOptions)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  case 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    call error_handler(ERROR_UNSUPPORTED_ACTION, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    go response</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end case</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">response:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * if an error occurs in serializing the output object it will likely result in a fatal error</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * there is little else we can do here except let that fatal error occur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  x = udoWrite(output, UDOFORMAT_JSON, outputSerialized)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  * if an error occurs in freeing the memory space for the objects, we will ignore it as there is little else that can be done</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  x = udoFree(output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  x = udoFree(input)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return; * returning to caller</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">subroutine error_handler(errorCode, output)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* note that this routine intentionally does not react to udo errors because it could</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">* potentially result in an unending sequence of errors</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x = udoSetProperty(output, &#x27;errorCode&#x27;, errorCode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">return</span><br></span></code></pre><div class="buttonGroup_hRr1"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Upon clicking &quot;OK&quot;, MVIS Admin will allow for the source code to be deployed.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/STORIS/mvom/tree/main/website/docs/01 - Introduction/03 - Setup and Configuration.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/mvom/docs/Introduction/installation"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mvom/docs/connection"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Connection</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configuring-the-rest-server-subroutine-definition" class="table-of-contents__link toc-highlight">Configuring the REST Server Subroutine Definition</a><ul><li><a href="#how-to-find-the-subroutine-version" class="table-of-contents__link toc-highlight">How to find the subroutine version</a></li></ul></li><li><a href="#deploying-the-rest-server-subroutine-code" class="table-of-contents__link toc-highlight">Deploying the REST Server Subroutine Code</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 STORIS, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/mvom/assets/js/runtime~main.078af2ed.js"></script>
<script src="/mvom/assets/js/main.f58b1997.js"></script>
</body>
</html>